;if(typeof($uifm)==='undefined'){$uifm=jQuery;}
var rocketfm=rocketfm||null;if(!$uifm.isFunction(rocketfm)){(function($,window){window.rocketfm=rocketfm=$.rocketfm=function(){var uifmvariable=[];uifmvariable.innerVars={};uifmvariable.externalVars={};var cur_form_obj=null;var accounting;var validators={letters:{regex:/^[A-Za-z]+$/},numbers:{regex:/^[0-9]+$/},numletter:{regex:/^[A-Za-z0-9]+$/},postcode:{regex:/^.{3,}$/},email:{regex:/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,8}$/},phone:{regex:/^[2-9]\d{2}-\d{3}-\d{4}$/}};arguments.callee.setAccounting=function(obj){accounting=obj;};arguments.callee.initialize=function(){this.setExternalVars({});};arguments.callee.setExternalVars=function(_uifmvar){uifmvariable.externalVars["fm_ids"]=_uifmvar.fm_ids||[];uifmvariable.externalVars["fm_loadmode"]=_uifmvar.fm_loadmode||"";};arguments.callee.getExternalVars=function(name){if(uifmvariable.externalVars[name]){return uifmvariable.externalVars[name];}else{return'';}};arguments.callee.setInnerVariable=function(name,value){uifmvariable.innerVars[name]=value;};arguments.callee.setInnerVariable_byform=function(idform,name,value){if(typeof uifmvariable.innerVars['var_form'+idform]=='undefined'){uifmvariable.innerVars['var_form'+idform]={};}
uifmvariable.innerVars['var_form'+idform][name]=value;};arguments.callee.getInnerVariable=function(name){if(uifmvariable.innerVars[name]){return uifmvariable.innerVars[name];}else{return'';}};arguments.callee.getInnerVariable_byform=function(idform,name){if(uifmvariable.innerVars['var_form'+idform]){return uifmvariable.innerVars['var_form'+idform][name];}else{return'';}};arguments.callee.dumpvar3=function(object){return JSON.stringify(object,null,2);};arguments.callee.dumpvar2=function(object){return JSON.stringify(object);};arguments.callee.dumpvar=function(object){var seen=[]
var json=JSON.stringify(object,function(key,val){if(val!=null&&typeof val=="object"){if(seen.indexOf(val)>=0)
return
seen.push(val)}
return val});return seen;};arguments.callee.showLogMessage=function(msg){console.log(msg);};arguments.callee.validate_processValidation=function(value,type_val){var isValid=false;if(value.length){switch(parseInt(type_val)){case 1:if(value.length&&validators['letters'].regex.test(value)){isValid=true;}
break;case 2:if(value.length&&validators['numletter'].regex.test(value)){isValid=true;}
break;case 3:if(value.length&&validators['numbers'].regex.test(value)){isValid=true;}
break;case 4:if(value.length&&validators['email'].regex.test(value)){isValid=true;}
break;case 5:default:if(value.length){isValid=true;}
break;}}
return isValid;};arguments.callee.validate_applyPopOverOpt=function(element){var tmp_cur_fm_obj=this.getInnerVariable('cur_form_obj')||"body";var cus_placement;switch(parseInt($(element).data('val-pos'))){case 1:cus_placement='right';break;case 2:cus_placement='bottom';break;case 3:cus_placement='left';break;case 0:default:cus_placement='top';break;}
var options={animation:false,html:true,placement:cus_placement,content:$(element).data('val-custxt')||'Ops... this is required',trigger:'manual',container:(cur_form_obj)?cur_form_obj:"body",template:'<div class="popover popover_'+$(element).data('idfield')+' uiform_popover_frontend uiform-wrap" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'};return options;};arguments.callee.validate_addInvalidFields=function(value){var temp;temp=this.getInnerVariable('val_invalid_fields');temp.push(value);this.setInnerVariable('val_invalid_fields',temp);};arguments.callee.validate_field=function(el){var field_id,field_type,field_value,val_type,val_custtext,val_pos,val_tip,val_tip_col,val_tip_bg,field_pop;field_id=el.attr('id');field_type=el.attr('data-typefield');val_type=el.data('val-type')||0;val_pos=el.data('val-pos');val_tip=el.data('tip_col');val_tip_col=el.data('tip_col');val_tip_bg=el.data('tip_bg');this.setInnerVariable('cur_form_obj',el.closest('.rockfm-form'));switch(parseInt(field_type)){case 6:case 7:case 15:case 28:case 29:case 30:field_value=el.find('.rockfm-txtbox-inp-val').val();field_pop=el.find('.rockfm-txtbox-inp-val');if(this.validate_processValidation(field_value,val_type)){el.removeClass('rockfm-required');field_pop.removeClass('rockfm-val-error');field_pop.popover('destroy');}else{el.addClass('rockfm-required');if(!field_pop.hasClass("rockfm-val-error")){field_pop.addClass('rockfm-val-error');}
field_pop.popover('destroy').popover(this.validate_applyPopOverOpt(el)).popover('show');}
break;case 8:case 9:case 10:case 11:case 12:case 13:case 23:case 24:case 25:case 26:switch(parseInt(field_type)){case 8:if(el.find(".rockfm-input2-wrap input[type='radio']:checked").length>0){field_value='1';}else{field_value='';}
field_pop=el.find('.rockfm-input2-wrap');break;case 9:if(el.find(".rockfm-input2-wrap input[type='checkbox']:checked").length>0){field_value='1';}else{field_value='';}
field_pop=el.find('.rockfm-input2-wrap');break;case 10:if(el.find(".rockfm-input2-wrap select option:selected").val().length>0){field_value='1';}else{field_value='';}
field_pop=el.find('.rockfm-input2-wrap');break;case 11:if(el.find(".rockfm-input2-wrap select option:selected").length>0){field_value='1';}else{field_value='';}
field_pop=el.find('.rockfm-input2-wrap');break;case 12:if(el.find(".rockfm-fileupload-wrap .fileinput-filename").html().length>0){field_value='1';}else{field_value='';}
field_pop=el.find('.rockfm-fileupload-wrap');break;case 13:if(el.find(".rockfm-fileupload-wrap .fileinput-preview").html().length>0){field_value='1';}else{field_value='';}
field_pop=el.find('.rockfm-fileupload-wrap .fileinput-preview');break;case 23:field_value=el.find('.rockfm-colorpicker-wrap input').val();field_pop=el.find('.rockfm-colorpicker-wrap');break;case 24:field_value=el.find('.rockfm-input7-datepic input').val();field_pop=el.find('.rockfm-input7-datepic');break;case 25:field_value=el.find('.rockfm-input7-timepic input').val();field_pop=el.find('.rockfm-input7-timepic');break;case 26:field_value=el.find('.rockfm-input7-datetimepic input').val();field_pop=el.find('.rockfm-input7-datetimepic');break;}
if(this.validate_processValidation(field_value,val_type)){el.removeClass('rockfm-required');field_pop.removeClass('rockfm-val-error');field_pop.popover('destroy');}else{el.addClass('rockfm-required');if(!field_pop.hasClass("rockfm-val-error")){field_pop.addClass('rockfm-val-error');}
field_pop.popover('destroy').popover(this.validate_applyPopOverOpt(el)).popover('show');}
break;case 0:break;default:}};arguments.callee.validate_enableHighlight=function(el){try{var first_el=el.find('.rockfm-required').not(".rockfm-conditional-hidden").eq(0);var type=first_el.attr('data-typefield');var field_inp;switch(parseInt(type)){case 6:case 15:case 28:case 29:case 30:field_inp=first_el.find('.rockfm-txtbox-inp-val');field_inp.focus();break;case 7:field_inp=first_el.find('.rockfm-txtbox-inp-val');field_inp.focus();break;case 8:case 9:case 10:case 11:field_inp=first_el.find('.rockfm-input2-wrap');break;case 12:field_inp=first_el.find('.rockfm-fileupload-wrap');break;case 13:field_inp=first_el.find('.rockfm-fileupload-wrap');break;case 23:field_inp=first_el.find('.rockfm-colorpicker-wrap');break;case 24:field_inp=first_el.find('.rockfm-input7-datepic');break;case 25:field_inp=first_el.find('.rockfm-input7-timepic');break;case 26:field_inp=first_el.find('.rockfm-input7-datetimepic');break;case 0:break;default:}
var tmp_top;tmp_top=parseFloat(field_inp.first().offset().top)-100;if(String(uifmvariable.externalVars["fm_loadmode"])==="iframe"){if('parentIFrame'in window){parentIFrame.scrollTo(0,tmp_top);}}else{$('html,body').animate({scrollTop:tmp_top},'slow');}}
catch(ex){console.error("validate_enableHighlight : ",ex.message+' - '+type);}};arguments.callee.validate_form=function(el_form){var el,valid;cur_form_obj=el_form;el_form.find('.rockfm-required').not(".rockfm-conditional-hidden").on("click change keyup focus keypress",function(){rocketfm.validate_field($(this));});el_form.find('.rockfm-required').not(".rockfm-conditional-hidden").each(function(index,element){rocketfm.validate_field($(element));});el_form.find('.rockfm-required').not(".rockfm-conditional-hidden").find('.rockfm-colorpicker-wrap').colorpicker().on('changeColor',function(ev){var tmp_fld=$(this).closest('.rockfm-field');rocketfm.validate_field(tmp_fld);});if(parseInt(el_form.find('.rockfm-required').not(".rockfm-conditional-hidden").length)>0){valid=false;this.validate_enableHighlight(el_form);}else{valid=true;}
return{isValid:valid,error:''}};arguments.callee.submitForm=function(element){try{var el_form=$(element).closest('.rockfm-form');this.setInnerVariable('val_curform_obj',el_form);var res_val=this.validate_form(el_form);if(res_val.isValid){if(el_form.find('.g-recaptcha').length){this.recaptcha_validate();}else if(el_form.find('.rockfm-inp6-captcha').length){this.captcha_validate();}else{this.submitForm_submit(el_form);}}}
catch(ex){console.error("submitForm : ",ex.message);}};arguments.callee.action_refreshevents=function(){$('.uiform_modal_general').on('hidden.bs.modal',function(){rocketfm.modal_onclose();});$('.uiform_modal_general').on('shown.bs.modal',function(){rocketfm.modal_resizeWhenIframe();});$('.uiform-pg-order-cont').on('click',function(){$(this).find('.uiform-pg-radio-btn').find('input').prop("checked",true);});};arguments.callee.submitForm_showMessage=function(el,response,obj_btn){var msg_error='<div class="alert alert-danger"><i class="fa fa-exclamation-triangle"></i> Error! Form was not submitted.</div>';var msg='';var tmp_msg=el.parent().find(".rockfm-alert-container");tmp_msg.html('');var tmp_redirect_st=0;var tmp_redirect_url='';if(response){var arrJson=JSON&&JSON.parse(response)||$.parseJSON(response);if(parseInt(arrJson.success)===1){if(el.find('.uiform-sticky-sidebar-box').length){el.find('.uiform-sticky-sidebar-box').data('uiform_stickybox').destroy();}
if(parseInt(arrJson.payment_st)===1){msg=decodeURIComponent(arrJson.show_message);tmp_msg.append(msg);tmp_msg.find('.uiform-pg-summbox-amount').html(zgfm_front_cost.format_money(el,tmp_msg.find('.uiform-pg-summbox-amount').html()))
rocketfm.action_refreshevents();}else{if(parseInt(arrJson.sm_redirect_st)===1){tmp_redirect_st=1;tmp_redirect_url=decodeURIComponent(arrJson.sm_redirect_url);}else{msg=decodeURIComponent(arrJson.show_message);tmp_msg.append('<div class="rockfm-alert-inner" >'+msg+'</div>');}}
if(tmp_redirect_st!=1){el.hide();}}else{msg=decodeURIComponent(arrJson.form_error_msg)||msg_error;tmp_msg.append('<div class="rockfm-alert-inner" >'+msg+'</div>');}}else{msg=msg_error;tmp_msg.append('<div class="rockfm-alert-inner" >'+msg+'</div>');}
if(tmp_redirect_st===1){rocketfm.redirect_tourl(tmp_redirect_url);}else{if(msg){var tmp_msg=el.parent().find(".rockfm-alert-container");tmp_msg.html('');tmp_msg.append('<div class="rockfm-alert-inner" >'+msg+'</div>');tmp_msg.show();if(String(uifmvariable.externalVars["fm_loadmode"])==="iframe"){if('parentIFrame'in window){parentIFrame.scrollTo(0,tmp_msg.offset().top);parentIFrame.size();}}else{$('html,body').animate({scrollTop:tmp_msg.offset().top},'slow');}}
$('.popover').popover('hide');$('body').tooltip('destroy');obj_btn.removeAttr("disabled").html(obj_btn.attr('data-val-btn'));}};arguments.callee.submitForm_submit=function(el){if(el.find('._rockfm_type_submit')&&parseInt(el.find('._rockfm_type_submit').val())===1){var obj_btn=el.find('.rockfm-submitbtn .rockfm-txtbox-inp-val');if(el.find('.rockfm-fileupload-wrap').length){var options={url:rockfm_vars.uifm_siteurl+"uiformbuilder/ajax_submit_ajaxmode",beforeSend:function()
{},type:'POST',beforeSubmit:function(formData,formObject,formOptions){},beforeSerialize:function(form,options){el.find('.uifm-conditional-hidden',form).remove();obj_btn.attr('disabled','disabled').html(obj_btn.attr('data-val-subm')+'<i class="glyphicon glyphicon-refresh gly-spin"></i>');},uploadProgress:function(event,position,total,percentComplete)
{},success:function()
{},complete:function(response)
{obj_btn.removeAttr('disabled');rocketfm.submitForm_showMessage(el,response.responseText,obj_btn);},error:function()
{console.log('errors');}};el.ajaxForm(options);el.submit();}else{var data=el.uifm_serialize();$.ajax({type:"post",url:rockfm_vars.uifm_siteurl+"uiformbuilder/ajax_submit_ajaxmode",data:data,async:true,dataType:"html",beforeSend:function(){obj_btn.attr('disabled','disabled').html(obj_btn.attr('data-val-subm')+' <i class="glyphicon glyphicon-refresh gly-spin"></i>');},success:function(response){obj_btn.removeAttr('disabled');rocketfm.submitForm_showMessage(el,response,obj_btn);}});}}else{el.find('.rockfm-conditional-hidden').remove();}};arguments.callee.captcha_validate=function(){var el_form=this.getInnerVariable('val_curform_obj');var captcha_obj=$(el_form).find('.rockfm-inp6-captcha');var el_field=captcha_obj.closest('.rockfm-field');var obj_btn=$(el_form).find('.rockfm-submitbtn .rockfm-txtbox-inp-val');$.ajax({type:'POST',url:rockfm_vars.uifm_siteurl+"uiformbuilder/ajax_validate_captcha",dataType:"json",data:{'action':'rocket_front_valcaptcha','rockfm-code':el_field.find('.rockfm-inp6-captcha-code').val(),'rockfm-inpcode':el_field.find('.rockfm-inp6-captcha-inputcode').val()},beforeSend:function(){rocketfm.submit_changeModbutton(el_form,true);},success:function(response){try{rocketfm.submit_changeModbutton(el_form,false);if(typeof response=='object')
{if(response.success===true){rocketfm.captcha_response(true);}else{rocketfm.captcha_response(false);}}else{rocketfm.captcha_response(false);}}
catch(ex){rocketfm.captcha_response(false);}}});};arguments.callee.captcha_response=function(success){var temp=this.getInnerVariable('val_curform_obj');if(success===true){rocketfm.submitForm_submit(temp);}else{var tmp_captcha=$(temp).find('.rockfm-inp6-captcha-inputcode');var hidePopover=function(){tmp_captcha.popover('hide');};tmp_captcha.popover('destroy').popover(rocketfm.validate_applyPopOverOpt(tmp_captcha)).focus(hidePopover).popover('show');if(String(uifmvariable.externalVars["fm_loadmode"])==="iframe"){if('parentIFrame'in window){parentIFrame.scrollTo(0,tmp_captcha.offset().top-40);}}else{$('html,body').animate({scrollTop:tmp_captcha.offset().top-40},'slow');}}};arguments.callee.submit_changeModbutton=function(form_obj,load){var obj_btn,obj_btn2;if(parseInt($(form_obj).find('.rockfm-submitbtn .rockfm-txtbox-inp-val').length)>0){obj_btn=$(form_obj).find('.rockfm-submitbtn .rockfm-txtbox-inp-val');if(load===true){obj_btn.attr('disabled','disabled').html(obj_btn.attr('data-val-subm')+' <i class="glyphicon glyphicon-refresh gly-spin"></i>');}else{obj_btn.removeAttr('disabled').html(obj_btn.attr('data-val-btn'));}}else if(parseInt($(form_obj).find('.rockfm-wizardbtn .rockfm-btn-wiznext').length)>0){obj_btn=$(form_obj).find('.rockfm-wizardbtn .rockfm-btn-wizprev');obj_btn2=$(form_obj).find('.rockfm-wizardbtn .rockfm-btn-wiznext');var tab_cur_index=form_obj.find('.uiform-steps li.uifm-current').index();var tab_next_obj=form_obj.find('.uiform-steps li.uifm-current').next();var tab_next_index=tab_next_obj.index();var tmp_lbl;if(parseFloat(tab_cur_index)<parseFloat(tab_next_index)){tmp_lbl=obj_btn2.attr('data-value-next');}else{tmp_lbl=obj_btn2.attr('data-value-last');}
if(load===true){obj_btn.attr('disabled','disabled');obj_btn2.attr('disabled','disabled').find('.rockfm-inp-lbl').html(tmp_lbl+' <i class="glyphicon glyphicon-refresh gly-spin"></i>');}else{obj_btn.removeAttr('disabled');obj_btn2.removeAttr('disabled').find('.rockfm-inp-lbl').html(tmp_lbl);}}else{}};arguments.callee.recaptcha_validate=function(){var form_obj=this.getInnerVariable('val_curform_obj');var field_id=form_obj.find('.g-recaptcha').closest('.rockfm-recaptcha').attr('data-idfield');$.ajax({type:'POST',url:rockfm_vars.uifm_siteurl+"uiformbuilder/ajax_check_recaptcha",dataType:"json",data:{'action':'rocket_front_checkrecaptcha','rockfm-uid-field':field_id,'rockfm-code-recaptcha':$('#g-recaptcha-response').val(),'form_id':form_obj.find('._rockfm_form_id').val()},beforeSend:function(){rocketfm.submit_changeModbutton(form_obj,true);},success:function(response){try{rocketfm.submit_changeModbutton(form_obj,false);if(typeof response=='object')
{if(response.success===true){rocketfm.recaptcha_response(true);}else{rocketfm.recaptcha_response(false);}}else{rocketfm.recaptcha_response(false);}}
catch(ex){rocketfm.recaptcha_response(false);}},error:function(jqXHR,textStatus,errorThrown){rocketfm.recaptcha_response(false);}});};arguments.callee.captcha_refreshImage=function(element){var el=$(element);var el_data=el.data('rkver');var el_url=el.data('rkurl');var obj_field=el.closest('.rockfm-field');$.ajax({type:'POST',url:rockfm_vars.uifm_siteurl+"uiformbuilder/ajax_refresh_captcha",dataType:"json",data:{'action':'rocket_front_refreshcaptcha','rkver':el_data},success:function(response){obj_field.find('.rockfm-inp6-captcha-img').attr('src',el_url+response.rkver);el.attr('data-rkver',response.rkver);obj_field.find('.rockfm-inp6-captcha-code').val(response.code);}});};arguments.callee.recaptcha_response=function(success){var temp=this.getInnerVariable('val_curform_obj');if(success===true){rocketfm.submitForm_submit(temp);}else{var tmp_captcha=$(temp).find('.rockfm-input5-wrap');var hidePopover=function(){tmp_captcha.popover('hide');};tmp_captcha.popover('destroy').popover(rocketfm.validate_applyPopOverOpt(tmp_captcha)).focus(hidePopover).popover('show');if(String(uifmvariable.externalVars["fm_loadmode"])==="iframe"){if('parentIFrame'in window){parentIFrame.scrollTo(0,tmp_captcha.offset().top-40);}}else{$('html,body').animate({scrollTop:tmp_captcha.offset().top-40},'slow');}}};arguments.callee.loadform_init=function(){var obj_form_list=$('.rockfm-form-container');var obj_form,obj_form_id,tmp_form_main;obj_form_list.each(function(i){obj_form=$(this).find('.rockfm-form');if(!obj_form.hasClass('rockfm-form-mloaded')){obj_form_id=obj_form.find('._rockfm_form_id').val();var data_form_main=[];rocketfm.setInnerVariable('var_form'+obj_form_id);tmp_form_main=obj_form.find('.rockfm_main_data').val();data_form_main=JSON&&JSON.parse(tmp_form_main)||$.parseJSON(tmp_form_main);rocketfm.setInnerVariable_byform(obj_form_id,'price_format_st',data_form_main.price_format_st);rocketfm.setInnerVariable_byform(obj_form_id,'price_sep_decimal',data_form_main.price_sep_decimal);rocketfm.setInnerVariable_byform(obj_form_id,'price_sep_thousand',data_form_main.price_sep_thousand);rocketfm.setInnerVariable_byform(obj_form_id,'price_sep_precision',data_form_main.price_sep_precision);obj_form.addClass('rockfm-form-mloaded');if(obj_form.find('.rockfm-input4-slider').length){obj_form.find('.rockfm-input4-slider').slider();obj_form.find('.rockfm-input4-slider').on("slide",function(slideEvt){$(this).parent().parent().find('.rockfm-input4-number').text(slideEvt.value);});}
if(obj_form.find('.rockfm-input4-spinner').length){var spinners=obj_form.find('.rockfm-input4-spinner'),s_min,s_max,s_step,s_value;spinners.each(function(i){s_min=$(this).attr('data-rockfm-min'),s_max=$(this).attr('data-rockfm-max'),s_step=$(this).attr('data-rockfm-step'),s_value=$(this).attr('data-rockfm-value');$(this).TouchSpin({verticalbuttons:true,min:parseFloat(s_min),max:parseFloat(s_max),stepinterval:parseFloat(s_step),verticalupclass:'glyphicon glyphicon-plus',verticaldownclass:'glyphicon glyphicon-minus',initval:parseFloat(s_value)});});}
if(obj_form.find('.rockfm-input15-switch').length){obj_form.find('.rockfm-input15-switch').bootstrapSwitch();}
if(obj_form.find('.rockfm-input17-wrap .uifm-dcheckbox-item').length){obj_form.find('.rockfm-input17-wrap .uifm-dcheckbox-item').uiformDCheckbox();}
if(obj_form.find('.rockfm-input17-wrap .uifm-dradiobtn-item').length){obj_form.find('.rockfm-input17-wrap .uifm-dradiobtn-item').uiformDCheckbox();}
if(obj_form.find('.g-recaptcha').length){var rockfm_recaptcha=document.createElement('script');rockfm_recaptcha.type='text/javascript';rockfm_recaptcha.async=true;rockfm_recaptcha.defer='defer';rockfm_recaptcha.src='https://www.google.com/recaptcha/api.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(rockfm_recaptcha,s);if(parseInt(obj_form.find('.g-recaptcha').length)>1){var rockfm_rcha_d=obj_form.find('.g-recaptcha');rockfm_rcha_d.each(function(i){if(parseInt(i)!=0){$(this).removeClass('g-recaptcha').html('ReCaptcha is loaded once. Remove this field');}});}}
if(obj_form.find('.rockfm-captcha').length){if(parseInt(obj_form.find('.rockfm-captcha').length)>1){var rockfm_capcha_d=obj_form.find('.rockfm-captcha');rockfm_capcha_d.each(function(i){if(parseInt(i)!=0){$(this).find('.rockfm-inp6-captcha').removeClass('rockfm-inp6-captcha').html('Captcha is loaded once. Remove this field');}});}
var rockfm_capcha_refobj=obj_form.find('.rockfm-captcha .rockfm-inp6-wrap-refrescaptcha a');rocketfm.captcha_refreshImage(rockfm_capcha_refobj);}
if(obj_form.find('.rockfm-input7-datepic').length){var rockfm_datepic_d=obj_form.find('.rockfm-input7-datepic');var rkfm_datepic_tmp1,rkfm_datepic_tmp2;rockfm_datepic_d.each(function(i){$(this).datetimepicker({format:'L'});rkfm_datepic_tmp1=$(this).attr('data-rkfm-language');if(rkfm_datepic_tmp1){$(this).data('DateTimePicker').locale(rkfm_datepic_tmp1);}
rkfm_datepic_tmp2=$(this).attr('data-rkfm-showformat');if(rkfm_datepic_tmp2){$(this).data('DateTimePicker').dayViewHeaderFormat(rkfm_datepic_tmp2);$(this).data('DateTimePicker').format(rkfm_datepic_tmp2);}});}
if(obj_form.find('.rockfm-input7-timepic').length){var rockfm_timepic_d=obj_form.find('.rockfm-input7-timepic');rockfm_timepic_d.each(function(i){$(this).datetimepicker({format:'LT'});});}
if(obj_form.find('.rockfm-input7-datetimepic').length){var rockfm_datetm_d=obj_form.find('.rockfm-input7-datetimepic');var rkfm_datetm_tmp1,rkfm_datetm_tmp2;rockfm_datetm_d.each(function(i){$(this).datetimepicker();rkfm_datetm_tmp1=$(this).attr('data-rkfm-language');if(rkfm_datetm_tmp1){$(this).data('DateTimePicker').locale(rkfm_datetm_tmp1);}
rkfm_datetm_tmp2=$(this).attr('data-rkfm-showformat');if(rkfm_datetm_tmp2){$(this).data('DateTimePicker').dayViewHeaderFormat(rkfm_datetm_tmp2);}});obj_form.find('.rockfm-input7-datetimepic').datetimepicker();}
if(obj_form.find('.rockfm-input-ratingstar').length){var rockfm_rstar_d=obj_form.find('.rockfm-input-ratingstar');rockfm_rstar_d.each(function(i){$(this).rating({starCaptions:{1:$(this).attr('data-uifm-txt-star1')||'very bad',2:$(this).attr('data-uifm-txt-star2')||'bad',3:$(this).attr('data-uifm-txt-star3')||'ok',4:$(this).attr('data-uifm-txt-star4')||'good',5:$(this).attr('data-uifm-txt-star5')}||'very good',clearCaption:$(this).attr('data-uifm-txt-norate'),starCaptionClasses:{1:"text-danger",2:"text-warning",3:"text-info",4:"text-primary",5:"text-success"}});});}
if(obj_form.find('.rockfm-colorpicker-wrap').length){var rockfm_cpicker_d=obj_form.find('.rockfm-colorpicker-wrap');rockfm_cpicker_d.each(function(i){$(this).colorpicker({container:obj_form,boxcont:obj_form.parent()});});}
if(obj_form.find('[data-rockfm-gfont]').length){var rockfm_tmp=obj_form.find('[data-rockfm-gfont]');var rockfm_uniq_font=[];rockfm_tmp.each(function(i){if($.inArray($(this).attr('data-rockfm-gfont'),rockfm_uniq_font)===-1){var atImport='@import url(//fonts.googleapis.com/css?family='+$(this).attr('data-rockfm-gfont');$('<style>').append(atImport).appendTo('head');rockfm_uniq_font.push($(this).attr('data-rockfm-gfont'));}});}
if(obj_form.find('.rockfm-clogic-fcond').length){obj_form.zgfm_logicfrm(obj_form.find('.rockfm_clogic_data').val());obj_form.data('zgfm_logicfrm').setData();obj_form.data('zgfm_logicfrm').refreshfields();}
if(obj_form.find('._zgfm_form_opt')){obj_form.zgpb_datafrm(obj_form.find('._zgfm_form_opt').val());}else{obj_form.zgpb_datafrm();}
if($('.uiform-main-form [data-toggle="tooltip"]').length){$('.uiform-main-form [data-toggle="tooltip"]').tooltip({'selector':'','placement':'top','container':obj_form,html:true});}
if(obj_form.find('.uiform-sticky-sidebar-box').length&&(parseInt(obj_form.find('._rockfm_sticky_st').val())===1)){var sm_pos_lbl=obj_form.find('.uiform-sticky-sidebar-box').attr('data-sticky-pos'),sm_box_sd_width='200';obj_form.find('.uiform-sticky-sidebar-box').uiform_stickybox({enable:1,orientation:sm_pos_lbl,form_container:obj_form.find('.uiform-main-form'),main_container:obj_form.closest('.rockfm-form-container'),sticky:{width:sm_box_sd_width,height:'200'},resp_orientation:1,backend:0});}else{}
if(obj_form.find('.rockfm-costest-field').length){zgfm_front_cost.costest_fillSticky(obj_form);zgfm_front_cost.costest_listenEvents(obj_form);}
if(obj_form.find('.uiform-stickybox-inp-price').length){var rockfm_tmp_price=obj_form.find('.uiform-stickybox-inp-price');rockfm_tmp_price.each(function(i){$(this).html(zgfm_front_cost.format_money(obj_form,$(this).html()));});obj_form.find('.uiform-stickybox-symbol').html(obj_form.find('._rockfm_form_price_symbol').val());obj_form.find('.uiform-stickybox-currency').html(obj_form.find('._rockfm_form_price_currency').val());}}
if(String(uifmvariable.externalVars["fm_loadmode"])==="iframe"){if('parentIFrame'in window){parentIFrame.size();}}});};arguments.callee.costest_listenEvents=function(obj_form){var objsToSearch=[obj_form.find(".rockfm-costest-field .rockfm-inp2-rdo"),obj_form.find(".rockfm-costest-field .rockfm-inp2-chk")];$(document).on("change keyup focus keypress",objsToSearch,function(e){var obj_form=$(e.target).closest('.rockfm-form');zgfm_front_cost.costest_fillSticky(obj_form);});$(document).on("change",obj_form.find('.rockfm-costest-field .rockfm-input4-spinner'),function(e){var obj_form=$(e.target).closest('.rockfm-form');zgfm_front_cost.costest_fillSticky(obj_form);});obj_form.find('.rockfm-costest-field .rockfm-input4-slider').on('slide',function(slideEvt){var obj_form=$(this).closest('.rockfm-form');zgfm_front_cost.costest_fillSticky(obj_form);});obj_form.find('.rockfm-costest-field .rockfm-input15-switch').on('switchChange.bootstrapSwitch',function(event,state){var obj_form=$(this).closest('.rockfm-form');zgfm_front_cost.costest_fillSticky(obj_form);});}
arguments.callee.costest_summbox_linkPopUp=function(element){var el=$(element);var main_container=el.closest('.rockfm-form-container');main_container.find('.uiform_modal_general').modal('show');var result;var obj_form=el.closest('.rockfm-form');result=zgfm_front_cost.costest_fillSummBox(obj_form,true);var str_content='';var tmp_heading=obj_form.find('.uiform-sticky-sidebar-box-content').clone();tmp_heading.find('.uiform-stickybox-summary-link').remove();tmp_heading.find('p:first').css('font-weight','bold');str_content+=tmp_heading.html();str_content+=result[0];main_container.find('.uiform_modal_general').find('.modal-body').html(str_content);main_container.find('.uiform_modal_general').find('.modal-title').html(main_container.find('._rockfm_sticky_cpt_modal_title').val());};arguments.callee.format_money=function(obj_form,amount){var tmp_amount;var obj_form_id=obj_form.find('._rockfm_form_id').val();var tmp_cur_format_st,tmp_cur_decimal,tmp_cur_thousand,tmp_cur_precision;tmp_cur_format_st=rocketfm.getInnerVariable_byform(obj_form_id,'price_format_st');tmp_cur_decimal=rocketfm.getInnerVariable_byform(obj_form_id,'price_sep_decimal');tmp_cur_thousand=rocketfm.getInnerVariable_byform(obj_form_id,'price_sep_thousand');tmp_cur_precision=rocketfm.getInnerVariable_byform(obj_form_id,'price_sep_precision');if(parseInt(tmp_cur_format_st)===1){tmp_amount=accounting.formatMoney(amount,"",parseInt(tmp_cur_precision),tmp_cur_thousand,tmp_cur_decimal);}else{tmp_amount=accounting.toFixed(amount,parseInt(tmp_cur_precision));}
return tmp_amount;};arguments.callee.costest_fillSticky=function(obj_form){var result;result=zgfm_front_cost.costest_fillSummBox(obj_form,false);if(parseInt(obj_form.attr('data-zgfm-price-tax-st'))===1&&obj_form.find('.uiform-stickybox-tax').length){obj_form.find('.uiform-stickybox-subtotal').html(zgfm_front_cost.format_money(obj_form,result[1]));var tmp_tax=parseFloat(obj_form.attr('data-zgfm-price-tax-val'));var tmp_tax_val=(tmp_tax/100)*parseFloat(result[1]);obj_form.find('.uiform-stickybox-tax').html(zgfm_front_cost.format_money(obj_form,tmp_tax_val));obj_form.find('.uiform-stickybox-total').html(zgfm_front_cost.format_money(obj_form,tmp_tax_val+result[1]));}else{obj_form.find('.uiform-stickybox-total').html(zgfm_front_cost.format_money(obj_form,result[1]));}
obj_form.find('.uiform-stickybox-summary-list').html(result[0]);if(obj_form.find('.uiform-stickybox-summary').length){if(result[2]>result[3]){obj_form.find('.uiform-stickybox-summary-link').show();}else{obj_form.find('.uiform-stickybox-summary-link').hide();}}else{obj_form.find('.uiform-stickybox-summary-link').show();}};arguments.callee.costest_fillSummBox=function(obj_form,show_all_rows){var price_sum=0,uifm_fld_price,uifm_fld_type,uifm_summ_list='';var uifm_price_symbol=obj_form.find('._rockfm_form_price_symbol').val()||'';var tmp_uifm_summ_list='';var tmp_uifm_summ_list_inner;var tmp_uifm_summ_row_count=0;var uifm_summ_row_total=parseInt(obj_form.find('._rockfm_stickybox_summ_rows').val());var tmp_uifm_fld_price;var uifm_fld_value;var uifm_fld_sub_total;obj_form.find('.rockfm-costest-field:not(.rockfm-conditional-hidden)').each(function(){uifm_fld_type=$(this).attr('data-typefield');switch(parseInt(uifm_fld_type)){case 8:if($(this).find('input[type=radio]:checked').length){tmp_uifm_summ_list='';if(obj_form.find('.rockfm-label').length>0&&String($(this).find('.rockfm-label').html()).length>0){tmp_uifm_summ_list+='<span class="uiform-sbox-summ-fld-title">'+$(this).find('.rockfm-label').html()+': </span>';}
tmp_uifm_summ_list+='<span class="uiform-sbox-summ-fld-row">';tmp_uifm_summ_list+='<ul>';tmp_uifm_summ_list_inner=''
$(this).find('input[type=radio]:checked').each(function(){uifm_fld_price=$(this).attr('data-uifm-inp-price')||0;price_sum+=parseFloat(uifm_fld_price);tmp_uifm_summ_list_inner+='<li>'+$(this).attr('data-uifm-inp-label');if(parseFloat(uifm_fld_price)>0){tmp_uifm_summ_list_inner+=' : '+uifm_price_symbol+zgfm_front_cost.format_money(obj_form,uifm_fld_price);}
tmp_uifm_summ_list_inner+='</li>';});tmp_uifm_summ_list+=tmp_uifm_summ_list_inner;tmp_uifm_summ_list+='</ul>';tmp_uifm_summ_list+='</span>';if(show_all_rows||tmp_uifm_summ_row_count<uifm_summ_row_total){uifm_summ_list+=tmp_uifm_summ_list;}
tmp_uifm_summ_row_count++;}
break;case 9:if($(this).find('input[type=checkbox]:checked').length){tmp_uifm_summ_list='';if(obj_form.find('.rockfm-label').length>0&&String($(this).find('.rockfm-label').html()).length>0){tmp_uifm_summ_list+='<span class="uiform-sbox-summ-fld-title">'+$(this).find('.rockfm-label').html()+': </span>';}
tmp_uifm_summ_list+='<span class="uiform-sbox-summ-fld-row">';tmp_uifm_summ_list+='<ul>';tmp_uifm_summ_list_inner=''
$(this).find('input[type=checkbox]:checked').each(function(){uifm_fld_price=$(this).attr('data-uifm-inp-price')||0;price_sum+=parseFloat(uifm_fld_price);tmp_uifm_summ_list_inner+='<li>'+$(this).attr('data-uifm-inp-label');if(parseFloat(uifm_fld_price)>0){tmp_uifm_summ_list_inner+=' : '+uifm_price_symbol+zgfm_front_cost.format_money(obj_form,uifm_fld_price);}
tmp_uifm_summ_list_inner+='</li>';});tmp_uifm_summ_list+=tmp_uifm_summ_list_inner;tmp_uifm_summ_list+='</ul>';tmp_uifm_summ_list+='</span>';if(show_all_rows||tmp_uifm_summ_row_count<uifm_summ_row_total){uifm_summ_list+=tmp_uifm_summ_list;}
tmp_uifm_summ_row_count++;}
break;case 10:case 11:if($(this).find('select option:selected').length){tmp_uifm_summ_list='';if(obj_form.find('.rockfm-label').length>0&&String($(this).find('.rockfm-label').html()).length>0){tmp_uifm_summ_list+='<span class="uiform-sbox-summ-fld-title">'+$(this).find('.rockfm-label').html()+': </span>';}
tmp_uifm_summ_list+='<span class="uiform-sbox-summ-fld-row">';tmp_uifm_summ_list+='<ul>';tmp_uifm_summ_list_inner='';tmp_uifm_fld_price=0;$(this).find('select option:selected').each(function(){uifm_fld_price=$(this).attr('data-uifm-inp-price')||0;price_sum+=parseFloat(uifm_fld_price);tmp_uifm_fld_price+=parseFloat(uifm_fld_price);tmp_uifm_summ_list_inner+='<li>'+$(this).text();if(parseFloat(uifm_fld_price)>0){tmp_uifm_summ_list_inner+=' : '+uifm_price_symbol+zgfm_front_cost.format_money(obj_form,uifm_fld_price);}
tmp_uifm_summ_list_inner+='</li>';});tmp_uifm_summ_list+=tmp_uifm_summ_list_inner;tmp_uifm_summ_list+='</ul>';tmp_uifm_summ_list+='</span>';if(show_all_rows||tmp_uifm_summ_row_count<uifm_summ_row_total){uifm_summ_list+=tmp_uifm_summ_list;}
tmp_uifm_summ_row_count++;$(this).find('.rockfm-inp2-opt-price-lbl').show();$(this).find('.rockfm-inp2-opt-price-lbl .uiform-stickybox-inp-price').html(zgfm_front_cost.format_money(obj_form,tmp_uifm_fld_price));}else{$(this).find('.rockfm-inp2-opt-price-lbl').hide();}
break;case 16:tmp_uifm_summ_list='';tmp_uifm_summ_list+='<span class="uiform-sbox-summ-fld-row">';if(obj_form.find('.rockfm-label').length>0&&String($(this).find('.rockfm-label').html()).length>0){tmp_uifm_summ_list+='<span class="uiform-sbox-summ-fld-title2">'+$(this).find('.rockfm-label').html()+': </span>';}
tmp_uifm_summ_list_inner='';tmp_uifm_fld_price=0;uifm_fld_value=$(this).find('.rockfm-input4-slider').slider('getValue');uifm_fld_price=$(this).find('.rockfm-input4-slider').attr('data-uifm-inp-price')||0;uifm_fld_sub_total=parseFloat(uifm_fld_value)*parseFloat(uifm_fld_price);price_sum+=parseFloat(uifm_fld_sub_total);tmp_uifm_fld_price+=parseFloat(uifm_fld_sub_total);if(parseFloat(uifm_fld_sub_total)>0){tmp_uifm_summ_list_inner+=' <span class="uiform-sbox-summ-fld-price">'+uifm_price_symbol+zgfm_front_cost.format_money(obj_form,uifm_fld_sub_total)+'</span>';}
tmp_uifm_summ_list+=tmp_uifm_summ_list_inner;tmp_uifm_summ_list+='</span>';if(show_all_rows||tmp_uifm_summ_row_count<uifm_summ_row_total){uifm_summ_list+=tmp_uifm_summ_list;}
tmp_uifm_summ_row_count++;$(this).find('.rockfm-inp4-opt-price-lbl').show();$(this).find('.rockfm-inp4-opt-price-lbl .uiform-stickybox-inp-price').html(zgfm_front_cost.format_money(obj_form,tmp_uifm_fld_price));break;case 18:tmp_uifm_summ_list='';tmp_uifm_summ_list+='<span class="uiform-sbox-summ-fld-row">';if(obj_form.find('.rockfm-label').length>0&&String($(this).find('.rockfm-label').html()).length>0){tmp_uifm_summ_list+='<span class="uiform-sbox-summ-fld-title2">'+$(this).find('.rockfm-label').html()+': </span>';}
tmp_uifm_summ_list_inner='';tmp_uifm_fld_price=0;uifm_fld_value=$(this).find('.rockfm-input4-spinner').val();uifm_fld_price=$(this).find('.rockfm-input4-spinner').attr('data-uifm-inp-price')||0;uifm_fld_sub_total=parseFloat(uifm_fld_value)*parseFloat(uifm_fld_price);price_sum+=parseFloat(uifm_fld_sub_total);tmp_uifm_fld_price+=parseFloat(uifm_fld_sub_total);if(parseFloat(uifm_fld_sub_total)>0){tmp_uifm_summ_list_inner+=' <span class="uiform-sbox-summ-fld-price">'+uifm_price_symbol+zgfm_front_cost.format_money(obj_form,uifm_fld_sub_total)+'</span>';}
tmp_uifm_summ_list+=tmp_uifm_summ_list_inner;tmp_uifm_summ_list+='</span>';if(show_all_rows||tmp_uifm_summ_row_count<uifm_summ_row_total){uifm_summ_list+=tmp_uifm_summ_list;}
tmp_uifm_summ_row_count++;$(this).find('.rockfm-inp4-opt-price-lbl').show();$(this).find('.rockfm-inp4-opt-price-lbl .uiform-stickybox-inp-price').html(zgfm_front_cost.format_money(obj_form,tmp_uifm_fld_price));break;case 40:tmp_uifm_summ_list='';tmp_uifm_summ_list+='<span class="uiform-sbox-summ-fld-row">';if(obj_form.find('.rockfm-label').length>0&&String($(this).find('.rockfm-label').html()).length>0){tmp_uifm_summ_list+='<span class="uiform-sbox-summ-fld-title2">'+$(this).find('.rockfm-label').html()+': </span>';}
tmp_uifm_summ_list_inner='';tmp_uifm_fld_price=0;uifm_fld_value=$(this).find('.rockfm-input15-switch').bootstrapSwitch('state');if(uifm_fld_value){uifm_fld_price=$(this).find('.rockfm-input15-switch').attr('data-uifm-inp-price')||0;}else{uifm_fld_price=0;}
price_sum+=parseFloat(uifm_fld_price);tmp_uifm_fld_price+=parseFloat(uifm_fld_price);if(parseFloat(uifm_fld_price)>0){tmp_uifm_summ_list_inner+=' <span class="uiform-sbox-summ-fld-price">'+uifm_price_symbol+zgfm_front_cost.format_money(obj_form,uifm_fld_price)+'</span>';}
tmp_uifm_summ_list+=tmp_uifm_summ_list_inner;tmp_uifm_summ_list+='</span>';if(show_all_rows||tmp_uifm_summ_row_count<uifm_summ_row_total){if(uifm_fld_value){uifm_summ_list+=tmp_uifm_summ_list;}}
tmp_uifm_summ_row_count++;$(this).find('.rockfm-inp15-opt-price-lbl').show();$(this).find('.rockfm-inp15-opt-price-lbl .uiform-stickybox-inp-price').html(zgfm_front_cost.format_money(obj_form,tmp_uifm_fld_price));break;case 41:if($(this).find('input[type=checkbox]:checked').length){tmp_uifm_summ_list='';if(obj_form.find('.rockfm-label').length>0&&String($(this).find('.rockfm-label').html()).length>0){tmp_uifm_summ_list+='<span class="uiform-sbox-summ-fld-title">'+$(this).find('.rockfm-label').html()+': </span>';}
tmp_uifm_summ_list+='<span class="uiform-sbox-summ-fld-row">';tmp_uifm_summ_list+='<ul>';tmp_uifm_summ_list_inner=''
$(this).find('input[type=checkbox]:checked').each(function(){uifm_fld_price=$(this).closest('.uifm-dcheckbox-item').uiformDCheckbox('get_totalCost');price_sum+=parseFloat(uifm_fld_price);tmp_uifm_summ_list_inner+='<li>'+$(this).closest('.uifm-dcheckbox-item').uiformDCheckbox('get_labelOpt');if(parseFloat(uifm_fld_price)>0){tmp_uifm_summ_list_inner+=' : '+uifm_price_symbol+zgfm_front_cost.format_money(obj_form,uifm_fld_price);}
tmp_uifm_summ_list_inner+='</li>';});tmp_uifm_summ_list+=tmp_uifm_summ_list_inner;tmp_uifm_summ_list+='</ul>';tmp_uifm_summ_list+='</span>';if(show_all_rows||tmp_uifm_summ_row_count<uifm_summ_row_total){uifm_summ_list+=tmp_uifm_summ_list;}
tmp_uifm_summ_row_count++;}
break;case 42:if($(this).find('input[type=checkbox]:checked').length){tmp_uifm_summ_list='';if(obj_form.find('.rockfm-label').length>0&&String($(this).find('.rockfm-label').html()).length>0){tmp_uifm_summ_list+='<span class="uiform-sbox-summ-fld-title">'+$(this).find('.rockfm-label').html()+': </span>';}
tmp_uifm_summ_list+='<span class="uiform-sbox-summ-fld-row">';tmp_uifm_summ_list+='<ul>';tmp_uifm_summ_list_inner=''
$(this).find('input[type=checkbox]:checked').each(function(){uifm_fld_price=$(this).closest('.uifm-dradiobtn-item').uiformDCheckbox('get_totalCost');price_sum+=parseFloat(uifm_fld_price);tmp_uifm_summ_list_inner+='<li>'+$(this).closest('.uifm-dradiobtn-item').uiformDCheckbox('get_labelOpt');if(parseFloat(uifm_fld_price)>0){tmp_uifm_summ_list_inner+=' : '+uifm_price_symbol+zgfm_front_cost.format_money(obj_form,uifm_fld_price);}
tmp_uifm_summ_list_inner+='</li>';});tmp_uifm_summ_list+=tmp_uifm_summ_list_inner;tmp_uifm_summ_list+='</ul>';tmp_uifm_summ_list+='</span>';if(show_all_rows||tmp_uifm_summ_row_count<uifm_summ_row_total){uifm_summ_list+=tmp_uifm_summ_list;}
tmp_uifm_summ_row_count++;}
break;}});var returnVars=[uifm_summ_list,price_sum,tmp_uifm_summ_row_count,uifm_summ_row_total];return returnVars;};arguments.callee.wizard_nextButton=function(el){var el_form=$(el).closest('.rockfm-form');this.setInnerVariable('val_curform_obj',el_form);var objform=$(el).closest('.rockfm-form');var objtabs=objform.find('.uiform-steps li');var tabs_num=objtabs.length;var tab_cur_index=objform.find('.uiform-steps li.uifm-current').index();var tab_next_obj=objform.find('.uiform-steps li.uifm-current').next();var tab_next_index=tab_next_obj.index();var gotab_next;var gotab_next_cont;var gotab_cur;var gotab_cur_cont;gotab_cur=objtabs.eq(tab_cur_index);gotab_cur_cont=$(gotab_cur).find("a").attr("data-tab-href");var obj_cur_form=$(gotab_cur_cont);var res_val=this.validate_form(obj_cur_form);if(res_val.isValid){if(obj_cur_form.find('.g-recaptcha').length){this.recaptcha_validate();}else if(obj_cur_form.find('.rockfm-inp6-captcha').length){this.captcha_validate();}else{gotab_cur.removeClass('uifm-current').addClass('uifm-complete');objform.find(gotab_cur_cont).hide();gotab_next=objtabs.eq(tab_next_index);gotab_next.removeClass('uifm-disabled').addClass('uifm-current');gotab_next_cont=$(gotab_next).find("a").attr("data-tab-href");var tmp_nex_cur_form=objform.find(gotab_next_cont);tmp_nex_cur_form.show();if(parseFloat(tab_cur_index)<parseFloat(tab_next_index)){var tab_next2_obj_index=tab_next_obj.next().index();objform.find('.rockfm-btn-wizprev').removeAttr('disabled');if(parseFloat(tab_next2_obj_index)>0&&parseFloat(tab_next2_obj_index)>parseFloat(tab_next_index)){}else{var wiznext_lasttxt=tmp_nex_cur_form.find('.rockfm-btn-wiznext').attr('data-value-last')||'finish';tmp_nex_cur_form.find('.rockfm-btn-wiznext').find('.rockfm-inp-lbl').html(wiznext_lasttxt);}}else{var obj_btn=el_form.find('.rockfm-btn-wiznext');obj_btn.html(obj_btn.html()+' <i class="glyphicon glyphicon-refresh gly-spin"></i>');obj_btn.attr("disabled",true);rocketfm.submitForm_submit(el_form);}}}else{}
if(String(uifmvariable.externalVars["fm_loadmode"])==="iframe"){if('parentIFrame'in window){parentIFrame.size();parentIFrame.scrollTo(0,el_form.offset().top);}}else{$('html,body').animate({scrollTop:el_form.offset().top},'slow');}};arguments.callee.wizard_prevButton=function(el){var objform=$(el).closest('.rockfm-form');var objtabs=objform.find('.uiform-steps li');var tabs_num=objtabs.length;var tab_cur_index=objform.find('.uiform-steps li.uifm-current').index();var tab_prev_obj=objform.find('.uiform-steps li.uifm-current').prev();var tab_prev_index=tab_prev_obj.index();var gotab_prev;var gotab_prev_cont;var gotab_cur;var gotab_cur_cont;if(tab_prev_obj){gotab_cur=objtabs.eq(tab_cur_index);gotab_cur.removeClass('uifm-current').removeClass('uifm-complete').addClass('uifm-disabled');gotab_cur_cont=$(gotab_cur).find("a").attr("data-tab-href");objform.find(gotab_cur_cont).hide();gotab_prev=objtabs.eq(tab_prev_index);gotab_prev.removeClass('uifm-disabled').removeClass('uifm-complete').addClass('uifm-current');gotab_prev_cont=$(gotab_prev).find("a").attr("data-tab-href");objform.find(gotab_prev_cont).show();}
if(parseFloat(tab_cur_index)>parseFloat(tab_prev_index)){var tab_prev2_obj_index=tab_prev_obj.prev().index();if(parseFloat(tab_prev2_obj_index)>=0&&parseFloat(tab_prev2_obj_index)<parseFloat(tab_prev_index)){}else{var wiznext_ntxt=objform.find('#uifm-step-tab-'+tab_prev_index).find('.rockfm-btn-wiznext').attr('data-value-next')||'next';objform.find('.rockfm-btn-wiznext .rockfm-inp-lbl').html(wiznext_ntxt);objform.find('.rockfm-btn-wizprev').attr('disabled','disabled');}}
if(String(uifmvariable.externalVars["fm_loadmode"])==="iframe"){if('parentIFrame'in window){parentIFrame.size();}}
$('.popover').popover('hide');};arguments.callee.payment_checkSelectedRdo=function(objwrap){var $return;if(objwrap.find(".uiform-pg-order-cont input[type='radio']:checked").length>0){objwrap.find('.uiform-pg-content').popover('destroy');$return=true;}else{objwrap.find('.uiform-pg-content').popover({animation:false,html:true,placement:'top',trigger:'manual',template:'<div class="popover popover_selpay uiform_popover_frontend uiform-wrap" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>',content:objwrap.find('.uifm_pg_msg_selectpay').val()||'this is required'}).popover('show');$return=false;}
return $return;};arguments.callee.redirect_tourl=function(redirect){if(window.event){window.event.returnValue=false;window.location=redirect;}else{location.href=redirect;}};arguments.callee.payment_completebtn=function(el){var objwrap=$(el).closest('.uiform-pg-main-page');$(document).on("change",objwrap.find(".uiform-pg-order-cont input[type='radio']"),function(e){rocketfm.payment_checkSelectedRdo(objwrap)});if(rocketfm.payment_checkSelectedRdo(objwrap)){var optchecked=objwrap.find(".uiform-pg-order-cont input[type='radio']:checked").first();var opt_type=optchecked.attr('data-type');switch(parseInt(opt_type)){case 1:objwrap.find(".uiform-pg-complete-box a").prop('disabled',true);objwrap.find(".uiform-pg-complete-box a").html('<i class="fa fa-shopping-cart"></i> <i class="glyphicon glyphicon-refresh gly-spin"></i>');var data=objwrap.find(".uifm_offline_form").serialize();$.ajax({type:'POST',url:rockfm_vars.uifm_siteurl+"uiformbuilder/ajax_save_offlinepayment",dataType:"html",data:data+'&action=rocket_front_saveofflinemode',success:function(response){if(response){var arrJson=JSON&&JSON.parse(response)||$.parseJSON(response);if(parseInt(arrJson.success)===1){if(arrJson.return_url){rocketfm.redirect_tourl(arrJson.return_url);}else{var msg='';var el_form=$(el).closest('.rockfm-form-container');msg=decodeURIComponent(arrJson.show_message);el_form.find('.uiform-pg-main-page').hide();if(msg){var tmp_msg=el_form.find(".rockfm-alert-container");tmp_msg.html('');tmp_msg.append('<div class="rockfm-alert-inner" >'+msg+'</div>');tmp_msg.show();if(String(uifmvariable.externalVars["fm_loadmode"])==="iframe"){if('parentIFrame'in window){parentIFrame.scrollTo(0,tmp_msg.offset().top);}}else{$('html,body').animate({scrollTop:tmp_msg.offset().top},'slow');}}}}}}});break;case 2:objwrap.find(".uifm_paypal_form").submit();objwrap.find(".uiform-pg-complete-box a").prop('disabled',true);objwrap.find(".uiform-pg-complete-box a").html('<i class="fa fa-shopping-cart"></i> <i class="glyphicon glyphicon-refresh gly-spin"></i>');break;}}};arguments.callee.modal_resizeWhenIframe=function(){if(String(uifmvariable.externalVars["fm_loadmode"])==="iframe"){if('parentIFrame'in window){var height=$('.uiform_modal_general').find('.modal-body').height();parentIFrame.size(parseFloat(height)+300);}}};arguments.callee.modal_onclose=function(){if(String(uifmvariable.externalVars["fm_loadmode"])==="iframe"){if('parentIFrame'in window){parentIFrame.size();}}};arguments.callee.payment_seeSummary=function(element){var main_container=$(element).closest('.rockfm-form-container');var form_id=main_container.find('._rockfm_form_id').val();var form_r_id=main_container.find('._uifm_pg_record_id').val();$.ajax({type:'POST',url:rockfm_vars.uifm_siteurl+"uiformbuilder/ajax_payment_seesummary",dataType:"html",data:{'action':'rocket_front_payment_seesummary','form_r_id':form_r_id,'form_id':form_id},success:function(response){var arrJson=JSON&&JSON.parse(response)||$.parseJSON(response);main_container.find('.uiform_modal_general').modal('show');main_container.find('.uiform_modal_general').find('.modal-body').html(decodeURIComponent(arrJson.show_summary));main_container.find('.uiform_modal_general').find('.modal-title').html(arrJson.show_summary_title);}});};arguments.callee.payment_seeInvoice=function(element){var main_container=$(element).closest('.rockfm-form-container');var form_id=main_container.find('._rockfm_form_id').val();var form_r_id=main_container.find('._uifm_pg_record_id').val();$.ajax({type:'POST',url:rockfm_vars.uifm_siteurl+"uiformbuilder/ajax_payment_seeinvoice",dataType:"html",data:{'action':'rocket_front_payment_seeinvoice','form_r_id':form_r_id,'form_id':form_id},success:function(response){var arrJson=JSON&&JSON.parse(response)||$.parseJSON(response);main_container.find('.uiform_modal_general').modal('show');main_container.find('.uiform_modal_general').find('.modal-body').html(decodeURIComponent(arrJson.show_summary));main_container.find('.uiform_modal_general').find('.modal-title').html(arrJson.show_summary_title);}});};arguments.callee.genpdf_inforecord=function(rec_id){try{$("body").append("<iframe src='"+rockfm_vars.uifm_siteurl+"formbuilder/records/action_pdf_show_record/?id="+rec_id+"' style='display: none;' ></iframe>");}
catch(ex){console.error(" genpdf_inforecord : ",ex.message);var uifm_iframeform=function(url)
{var object=this;object.time=new Date().getTime();object.form=$('<form action="'+url+'" target="iframe'+object.time+'" method="post" style="display:none;" id="form'+object.time+'"></form>');object.addParameter=function(parameter,value)
{$("<input type='hidden' />").attr("name",parameter).attr("value",value).appendTo(object.form);}
object.send=function()
{var iframe=$('<iframe data-time="'+object.time+'" style="display:none;" id="iframe'+object.time+'"></iframe>');$("body").append(iframe);$("body").append(object.form);object.form.submit();iframe.load(function(){$('#form'+$(this).data('time')).remove();$(this).remove();});}};var tmpSend=new uifm_iframeform(rockfm_vars.url_site+'?uifm_costestimator_api_handler&action=uifm_est_api_handler&uifm_action=show_record&uifm_mode=pdf&id='+rec_id);tmpSend.send();}};arguments.callee.genpdf_infoinvoice=function(rec_id){try{$("body").append("<iframe src='"+rockfm_vars.uifm_siteurl+"gateways/records/action_pdf_show_invoice/?id="+rec_id+"' style='display: none;' ></iframe>");}
catch(ex){console.error(" genpdf_inforecord : ",ex.message);var uifm_iframeform=function(url)
{var object=this;object.time=new Date().getTime();object.form=$('<form action="'+url+'" target="iframe'+object.time+'" method="post" style="display:none;" id="form'+object.time+'"></form>');object.addParameter=function(parameter,value)
{$("<input type='hidden' />").attr("name",parameter).attr("value",value).appendTo(object.form);}
object.send=function()
{var iframe=$('<iframe data-time="'+object.time+'" style="display:none;" id="iframe'+object.time+'"></iframe>');$("body").append(iframe);$("body").append(object.form);object.form.submit();iframe.load(function(){$('#form'+$(this).data('time')).remove();$(this).remove();});}};var tmpSend=new uifm_iframeform(rockfm_vars.url_site+'?uifm_costestimator_api_handler&action=uifm_est_api_handler&uifm_action=show_invoice&uifm_mode=pdf&id='+rec_id);tmpSend.send();}};arguments.callee.add_formloaded=function(value){var temp;temp=this.getInnerVariable('form_loaded');if(temp===''){temp=[];this.setInnerVariable('form_loaded',[]);}
temp.push(value);this.setInnerVariable('form_loaded',temp);};arguments.callee.run_form=function(form_id){var check_field=$.inArray(form_id,this.getInnerVariable('form_loaded'));if(check_field<0){this.add_formloaded(form_id);this.loadform_content(form_id);}};arguments.callee.test_slider=function(){console.log('ups slider');$('#ex2').slider();};arguments.callee.loadform_content=function(form_id){var form_obj=$('#uifm_container_'+form_id);$.ajax({async:true,type:"post",url:UIFORM_WWW+'uiformbuilder/getform',data:"id="+encodeURIComponent(form_id),dataType:"html",beforeSend:function(){},success:function(response){var msg;if(response){var arrJson=$.parseJSON(response);msg=decodeURIComponent(arrJson.html_content);}else{msg='Error. Try refresh again.';}
form_obj.html(msg);rocketfm.loadform_init();if(String(uifmvariable.externalVars["fm_loadmode"])==="iframe"){if('parentIFrame'in window){parentIFrame.size();}}
if(parseInt(form_obj.find('.rockfm-form').data('zgpb_datafrm').getData("onload_scroll"))===1){if(msg){if(String(uifmvariable.externalVars["fm_loadmode"])==="iframe"){if('parentIFrame'in window){parentIFrame.scrollTo(0,form_obj.offset().top);}}else{$('html,body').animate({scrollTop:form_obj.offset().top},'slow');}}}},complete:function()
{},error:function(data,errorThrown)
{console.log('request failed :'+errorThrown);}});};};})($uifm,window);}
(function($){var zgfmLogicFrm=function(element,options){var cur_form_obj=$(element);var obj=this;var logical_fields=[];var fields_cond=[];var fields_fire=[];var cur_field_fire_value;var cur_field_fire_id;logical_fields=JSON&&JSON.parse(options)||$.parseJSON(options);this.publicMethod=function(){};var privateMethod=function(){};this.setData=function(){this.processData();var tmp_firef=[];var tmp_field;var tmp_field_id;var tmp_field_inp
for(var i in fields_fire){tmp_firef.push('#rockfm_'+fields_fire[i].field_fire);}
$.each(tmp_firef,function(){tmp_field=cur_form_obj.find(String(this));if(tmp_field.length){switch(parseInt(tmp_field.attr('data-typefield'))){case 8:tmp_field_inp=tmp_field.find('.rockfm-inp2-rdo');break;case 9:tmp_field_inp=tmp_field.find('.rockfm-inp2-chk');break;case 10:case 11:tmp_field_inp=tmp_field.find('.uifm-input2-opt-main');break;case 16:tmp_field_inp=tmp_field.find('.rockfm-input4-slider');break;case 18:tmp_field_inp=tmp_field.find('.rockfm-input4-spinner');break;case 41:tmp_field_inp=tmp_field.find('.uifm-dcheckbox-item');break;case 42:tmp_field_inp=tmp_field.find('.uifm-dradiobtn-item');break;}
switch(parseInt(tmp_field.attr('data-typefield'))){case 8:case 9:case 10:case 11:tmp_field_inp.on("change",function(e){tmp_field_id=$(this).closest('.rockfm-field').attr('data-idfield');triggerConditional(e.target,tmp_field_id);if(String(rocketfm.getExternalVars("fm_loadmode"))==="iframe"){if('parentIFrame'in window){parentIFrame.size();}}});break;case 16:case 18:tmp_field_inp.on("slideStop",function(e){tmp_field_id=$(this).closest('.rockfm-field').attr('data-idfield');triggerConditional(e.target,tmp_field_id);if(String(rocketfm.getExternalVars("fm_loadmode"))==="iframe"){if('parentIFrame'in window){parentIFrame.size();}}});break;case 41:case 42:tmp_field_inp.on("click",function(e){tmp_field_id=$(this).closest('.rockfm-field').attr('data-idfield');triggerConditional(e.target,tmp_field_id);if(String(rocketfm.getExternalVars("fm_loadmode"))==="iframe"){if('parentIFrame'in window){parentIFrame.size();}}});break;}}});};this.processData=function(){fields_cond=logical_fields.cond;fields_fire=logical_fields.fire;};this.getValueFieldFire=function(element){cur_field_fire_value=$(element).val();};this.getValueFieldById=function(id_field,input){var getrow=cur_form_obj.find('#rockfm_'+id_field);var response={value_field:null,input_field:null};if(getrow){var type=getrow.attr("data-typefield");var tempvar;var searchInput;switch(parseInt(type)){case 8:tempvar=getrow.find('.rockfm-inp2-rdo');searchInput=tempvar.map(function(index){if($(this).is(':checked')){return index;}else{return null;}}).toArray();response["value_field"]=searchInput[0];response["input_field"]=input;break;case 9:tempvar=getrow.find('.rockfm-inp2-chk');searchInput=tempvar.map(function(index){if($(this).is(':checked')){return index;}else{return null;}}).toArray();response["value_field"]=searchInput;response["input_field"]=input;break;case 41:tempvar=getrow.find('.uifm-dcheckbox-item-chkst');searchInput=tempvar.map(function(index){if($(this).hasClass("uifm-dcheckbox-checked")){return index;}else{return null;}}).toArray();response["value_field"]=searchInput;response["input_field"]=input;break;case 42:tempvar=getrow.find('.uifm-dcheckbox-item-chkst');searchInput=tempvar.map(function(index){if($(this).hasClass("uifm-dcheckbox-checked")){return index;}else{return null;}}).toArray();response["value_field"]=searchInput[0];response["input_field"]=input;break;case 10:tempvar=getrow.find('.uifm-input2-opt-main');response["value_field"]=tempvar.prop('selectedIndex');response["input_field"]=input;break;case 11:searchInput=$.map(getrow.find('.uifm-input2-opt-main option:selected'),function(elem){return $(elem).attr('value');;});response["value_field"]=searchInput;response["input_field"]=input;break;case 16:tempvar=getrow.find('.rockfm-input4-slider');response["value_field"]=tempvar.val();response["input_field"]=input;break;case 18:tempvar=getrow.find('.rockfm-input4-spinner');response["value_field"]=tempvar.val();response["input_field"]=input;break;}}
return response;};this.refreshfields=function(){var found=fields_cond;for(var i in found){this.processFieldCond(found[i].field_cond);}};var triggerConditional=function(element,id){obj.refreshfields();}
this.enableFields=function(element){element.removeClass('rockfm-conditional-hidden');};this.disableFields=function(element){element.addClass('rockfm-conditional-hidden');};this.processFieldCond=function(field_cond){var getElement;getElement=cur_form_obj.find('#rockfm_'+field_cond);var foundsource=this.findFieldCond(field_cond);if(!foundsource){return;}
var required=parseInt(foundsource.req_match);var action=parseInt(foundsource.action);var list_source=foundsource.list;var match_count=0;var fire_temp;var flag_firevisible;for(var i in list_source){fire_temp=String(list_source[i].field_fire);if(cur_form_obj.find('#rockfm_'+fire_temp).is(":visible")||String(cur_form_obj.find('#rockfm_'+fire_temp).css("display"))==="block"){flag_firevisible=true;}else{flag_firevisible=false;}
if(flag_firevisible===true){if(this.calculateMatchs(list_source[i].field_fire,list_source[i].minput,list_source[i].mtype)===true){match_count++;}}}
if(required>0&&required<=match_count){if(action===1){this.enableFields(getElement);getElement.show();}else if(action===2){this.disableFields(getElement);getElement.hide();}}else{if(action===1){this.disableFields(getElement);getElement.hide();}else if(action===2){this.enableFields(getElement);getElement.show();}}};this.calculateMatchs=function(field_fire,input,mtype){var response;var fire_input=this.getValueFieldById(field_fire,input);switch(parseInt(mtype)){case 1:if($.isArray(fire_input.value_field)){for(var i in fire_input.value_field){if(parseFloat(fire_input.value_field[i])===parseFloat(fire_input.input_field)){response=true;break;}else{response=false;}}}else if($.isNumeric(fire_input.value_field)){if(parseFloat(fire_input.value_field)===parseFloat(fire_input.input_field)){response=true;}else{response=false;}}else{if(String(fire_input.value_field)===String(fire_input.input_field)){response=true;}else{response=false;}}
break;case 2:if($.isNumeric(fire_input.value_field)){if(parseFloat(fire_input.value_field)!=parseFloat(fire_input.input_field)){response=true;}else{response=false;}}else{if(String(fire_input.value_field)!=String(fire_input.input_field)){response=true;}else{response=false;}}
break;case 3:if(parseFloat(fire_input.value_field)>=parseFloat(fire_input.input_field)){response=true;}else{response=false;}
break;case 4:if(parseFloat(fire_input.value_field)<=parseFloat(fire_input.input_field)){response=true;}else{response=false;}
break;}
return response;}
this.findFieldFire=function(needle){for(var i in fields_fire){if(String(fields_fire[i].field_fire)===String(needle)){return fields_fire[i].list;}}}
this.findFieldCond=function(needle){for(var i in fields_cond){if(String(fields_cond[i].field_cond)===String(needle)){return fields_cond[i];}}}};$.fn.zgfm_logicfrm=function(options){return this.each(function(){var element=$(this);if(element.data('zgfm_logicfrm'))return;var myplugin=new zgfmLogicFrm(this,options);element.data('zgfm_logicfrm',myplugin);});};})($uifm);$uifm(document).ready(function($){var
rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;var rcheckableType=(/^(?:checkbox|radio)$/i);$.fn.removeCss=function(){var removedCss=$.makeArray(arguments);return this.each(function(){var e$=$(this);var style=e$.attr('style');if(typeof style!=='string')return;style=$.trim(style);var styles=style.split(/;+/);var sl=styles.length;for(var l=removedCss.length,i=0;i<l;i++){var r=removedCss[i];if(!r)continue;for(var j=0;j<sl;){var sp=$.trim(styles[j]);if(!sp||(sp.indexOf(r)===0&&$.trim(sp.substring(r.length)).indexOf(':')===0)){styles.splice(j,1);sl--;}else{j++;}}}
if(styles.length===0){e$.removeAttr('style');}else{e$.attr('style',styles.join(';'));}});};$.fn.extend({uifm_serialize:function(){return $.param(this.uifm_serializeArray());},uifm_serializeArray:function(){return this.map(function(){var elements=$.prop(this,"elements");var exclude_array=[];var exclude_fields=$(this).closest('.rockfm-form').find('.rockfm-conditional-hidden :input,.rockfm-conditional-hidden select');exclude_array=$.map(exclude_fields,function(n,i){return $(n).attr('name');});var new_elements=[];$.each(elements,function(i,val){if(parseInt($.inArray($(val).attr('name'),exclude_array))<0){new_elements.push(val);}});return new_elements?$.makeArray(new_elements):this;}).filter(function(){var type=this.type;return this.name&&!$(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type));}).map(function(i,elem){var val=$(this).val();return val==null?null:$.isArray(val)?$.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")};}):{name:elem.name,value:val.replace(rCRLF,"\r\n")};}).get();}});});